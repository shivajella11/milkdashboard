<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Milk Clients CRM</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/farm.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<style>
  .crm-banner {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(to right, #6dd5fa, #2980b9);
  color: white;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.main-container {
    flex: 1;
    padding: 20px;
    margin-left: 250px; /* Same as sidebar width */
    width: calc(100% - 250px); /* Subtract sidebar width */
    box-sizing: border-box;
    transition: margin-left 0.3s ease, width 0.3s ease;
    min-height: calc(100vh - 70px); /* Account for navbar height */
    margin-top: 0px; /* Push content below fixed navbar */
}

.sidebar-hidden .main-container {
    margin-left: 0;
    width: 100%;
}

.banner-content h1 {
  margin: 0;
  font-size: 1.8rem;
}

.banner-content p {
  margin-top: 5px;
  font-size: 1rem;
}

.banner-stats {
  display: flex;
  gap: 20px;
}

.stat-card {
  background: rgba(255, 255, 255, 0.15);
  padding: 15px 20px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 15px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.stat-card:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.stat-card i {
  font-size: 1.8rem;
  background: rgba(255, 255, 255, 0.2);
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
}

.stat-card div {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 5px;
}

.stat-card h3 {
  font-size: 0.95rem;
  margin: 0;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.9);
}

.stat-card span {
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
}

.crm-panel {
  display: grid;
  grid-template-columns: 25% 45% 30%;
  gap: 20px;
}

.crm-customers-list, .crm-details-panel, .crm-activity-panel {
  background: white;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding: 0 0 10px 0;
  border-bottom: 1px solid #f0f0f0;
}

.panel-header h2 {
  margin: 0;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
}

.panel-header h2 i {
  color: #3498db;
  font-size: 1.2rem;
}

.btn-add-client {
  background-color: #3498db;
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);
}

.btn-add-client:hover {
  background-color: #2980b9;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(52, 152, 219, 0.4);
}

.customer-search {
  position: relative;
  margin: 15px 0;
  width: 100%;
}

.search-icon {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: #aaa;
  font-size: 0.9rem;
}

.customer-search input {
  width: 100%;
  padding: 10px 10px 10px 35px;
  border: 1px solid #e0e0e0;
  border-radius: 5px;
  font-size: 0.9rem;
  box-sizing: border-box;
  transition: all 0.2s ease;
}

.customer-search input:focus {
  outline: none;
  border-color: #3498db;
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

#clientList {
  max-height: 500px;
  overflow-y: auto;
  padding: 0;
  margin: 0;
  list-style: none;
  border-top: 1px solid #eee;
}

.customer-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 12px 15px;
  border-bottom: 1px solid #eee;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  min-height: 60px; /* Ensures consistent height */
  box-sizing: border-box;
}

.customer-item:hover {
  background-color: #f9f9f9;
}

.customer-item.active {
  background-color: #e8f4fd;
  border-left: 4px solid #3498db;
  padding-left: 11px; /* Compensate for the border */
}

.customer-avatar {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 42px;
}

.customer-avatar i {
  font-size: 1.2rem;
  background: #f0f7ff;
  color: #3498db;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.customer-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-width: 0; /* Prevents text overflow */
}

.customer-info h3 {
  margin: 0 0 6px 0;
  font-size: 1rem;
  color: #333;
  font-weight: 600;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.customer-info p {
  margin: 0;
  font-size: 0.85rem;
  color: #666;
  display: flex;
  align-items: center;
  gap: 5px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.status-active {
  color: #27ae60;
  font-weight: 500;
}

.status-pending {
  color: #f39c12;
  font-weight: 500;
}

.status-suspended {
  color: #e74c3c;
  font-weight: 500;
}

.customer-alert {
  margin-left: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  flex-shrink: 0; /* Prevents shrinking */
}

.customer-alert i {
  font-size: 1.1rem;
  transition: all 0.2s ease;
}

.customer-alert i.alert {
  color: #e74c3c;
}

.customer-alert i.check-circle {
  color: #27ae60;
}

.customer-item:hover .customer-alert i {
  transform: scale(1.15);
}



.separator {
  color: #ddd;
  margin: 0 5px;
}

.client-detail-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 10px;
}

.detail-avatar i {
  font-size: 2rem;
  background: #3498db;
  color: white;
  padding: 15px;
  border-radius: 50%;
}

.detail-title h3 {
  margin: 0;
  font-size: 1.2rem;
}

.client-stats {
  display: flex;
  gap: 20px;
  margin: 15px 0;
}

.stat-item h4 {
  margin: 0 0 5px;
  font-size: 0.9rem;
}

.chart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.chart-header h4 {
  margin: 0;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 8px;
}

.chart-header h4 i {
  color: #3498db;
}

.milk-usage-chart {
  height: 200px;
  margin-bottom: 20px;
}

.client-info-grid {
  display: flex;
  gap: 20px;
}

.info-section {
  flex: 1;
}

#chatActivity {
  padding: 15px 20px;
  overflow-y: auto;
  max-height: 500px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.activity-item {
  display: flex;
  gap: 15px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e9ecef;
  transition: all 0.3s ease;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.activity-item:hover {
  background-color: #f8f9fa;
  border-radius: 10px;
  padding-left: 10px;
  padding-right: 10px;
}

.activity-avatar {
  width: 45px;
  height: 45px;
  background: linear-gradient(135deg, #9a7ba0 0%, #6f4972 100%);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  flex-shrink: 0;
  font-size: 18px;
  box-shadow: 0 3px 8px rgba(111, 73, 114, 0.2);
}

.activity-content {
  flex-grow: 1;
}

.activity-content h4 {
  font-size: 15px;
  color: #343a40;
  margin: 0 0 8px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
}

.activity-time {
  font-weight: normal;
  color: #6c757d;
  font-size: 12px;
  background-color: #f8f9fa;
  padding: 3px 8px;
  border-radius: 20px;
}

.activity-content p {
  font-size: 14px;
  color: #6c757d;
  line-height: 1.5;
  margin: 0;
}

.activity-action {
  margin-top: 12px;
  display: flex;
  gap: 10px;
}

.btn-small {
  padding: 6px 12px;
  font-size: 12px;
  border-radius: 6px;
  border: 1px solid #dee2e6;
  background-color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  color: #495057;
  font-weight: 500;
}

.btn-small:hover {
  background-color: #f8f9fa;
  border-color: #9a7ba0;
  color: #6f4972;
  transform: translateY(-2px);
}

/* Analytics Boxes Styling */
.analytics-section {
  margin-top: 30px;
  padding: 20px 0;
  border-top: 1px solid #eaeaea;
}

.analytics-section h2 {
  font-size: 1.3rem;
  margin-bottom: 20px;
  color: #333;
  display: flex;
  align-items: center;
  gap: 10px;
}

.analytics-section h2 i {
  color: #3498db;
}

.analytics-boxes {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-bottom: 20px;
}

.income-box {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);
  transition: all 0.3s ease;
  grid-column: span 3;
}

.income-box:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.income-box-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #f0f0f0;
}

.income-box-header h3 {
  font-size: 1.1rem;
  margin: 0;
  color: #333;
  display: flex;
  align-items: center;
  gap: 8px;
}

.income-box-header h3 i {
  font-size: 1rem;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background-color: #e3f2fd;
  color: #1976d2;
}

.income-chart-container {
  height: 300px;
  position: relative;
}

.income-controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 15px;
}

.income-toggle {
  padding: 8px 16px;
  border-radius: 20px;
  border: 1px solid #e0e0e0;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 0.9rem;
  color: #555;
}

.income-toggle.active {
  background-color: #1976d2;
  color: white;
  border-color: #1976d2;
  box-shadow: 0 2px 5px rgba(25, 118, 210, 0.2);
}

.analytics-box {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);
  transition: all 0.3s ease;
}

.analytics-box:hover {
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.analytics-box-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #f0f0f0;
}

.analytics-box-header h3 {
  font-size: 1.1rem;
  margin: 0;
  color: #333;
  display: flex;
  align-items: center;
  gap: 8px;
}

.analytics-box-header h3 i {
  font-size: 1rem;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.leads-icon {
  background-color: #e8f4fd;
  color: #3498db;
}

.daily-deals-icon {
  background-color: #e6f9f1;
  color: #2ecc71;
}

.yearly-deals-icon {
  background-color: #fef2e6;
  color: #f39c12;
}

.analytics-box-header .stats {
  font-size: 1.5rem;
  font-weight: bold;
  color: #333;
}

.analytics-chart-container {
  height: 220px;
  position: relative;
}

.chart-legend {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 15px;
  flex-wrap: wrap;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 0.85rem;
  color: #666;
}

.legend-color {
  width: 12px;
  height: 12px;
  border-radius: 2px;
}


/* Modal Styling */
.modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  padding: 20px;
  width: 500px;
  border-radius: 10px;
  position: relative;
}

.close-modal {
  position: absolute;
  top: 10px; right: 15px;
  font-size: 1.2rem;
  cursor: pointer;
}

.form-group {
  margin-bottom: 15px;
}

.form-group label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

.form-group input, .form-group textarea, .form-group select {
  width: 100%;
  padding: 8px;
  border-radius: 5px;
  border: 1px solid #ccc;
}

.form-row {
  display: flex;
  gap: 15px;
}

.form-row .form-group {
  flex: 1;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.btn-primary {
  background-color: #3498db;
  color: white;
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.btn-secondary {
  background-color: #ecf0f1;
  color: #333;
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

</style>
<body>
  <nav class="navbar">
    <div class="nav-left">
        <img src="img/logo.png" class="logo" alt="Logo" />
        <div class="menu-title-group">
            <i class="fas fa-bars menu-icon" id="menuToggle"></i> 
        </div>
    </div>
    <div class="nav-center">
        <!-- Language Selector with Globe Icon -->
        <div class="select-wrapper">
            <i class="fas fa-globe"></i>
            <select id="languageSelect" class="lang-dropdown">
                <option value="en">English</option>
                <option value="hi">हिन्दी</option>
                <option value="te">తెలుగు</option>
            </select>
        </div>
        <!-- Can add navigation links here if needed -->
    </div>
    <div class="nav-right">
        <div class="nav-tools">
            <!-- Online Status Label -->
            <div class="status-label">
                <span id="statusDot" class="dot online"></span>
                <span id="statusText">Active</span>
            </div>
            <!-- Mode Toggle -->
            <button id="modeToggle" class="mode-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
        <div class="nav-search-profile">
            <input type="text" placeholder="Search..." />
            <div class="nav-icons">
                <i class="fas fa-envelope"></i>
                <i class="fas fa-bell"></i>
            </div>
            <div class="profile">
                <img src="img/profile.jpg" alt="Profile" />
                <span>SHIVAKUMAR JELLA</span>
            </div>
        </div>
    </div>
  </nav>
  <aside id="sidebar">
    <ul>
        <li class="dashboard-nav"><a href="dashb.html"><i class="fas fa-home"></i> Dashboard</a></li>
        <li class="farmer-nav"><a href="farmer.html"><i class="fas fa-user-friends"></i> Farmer Directory</a></li>
        <li class="collection-nav"><a href="collection.html"><i class="fas fa-tractor"></i> Daily Milk Yields</a></li>
        <li class="chilling-nav"><a href="chilling.html"><i class="fas fa-snowflake"></i> Cooling Stations</a></li>
        <li class="processing-nav"><a href="plant.html"><i class="fas fa-industry"></i> Dairy Processing</a></li>
        <li class="quality-nav"><a href="qualitydemo.html"><i class="fas fa-clipboard-check"></i> Milk Quality Tests</a></li>
        <li class="inventory-nav"><a href="product.html"><i class="fas fa-boxes"></i> Dairy Stockroom</a></li>
        <li class="logistics-nav"><a href="distubtion.html"><i class="fas fa-shipping-fast"></i> Farm-to-Market Routes</a></li>        
        <li class="crm-nav"><a href="crmdemo.html"><i class="fas fa-users"></i> CRM System</a></li>
    </ul>
  </aside>
  <main>
    <div class="main-container">
      <div class="content">

        <section class="crm-banner">
          <div class="banner-content">
            <h1><i class="fas fa-wine-bottle"></i> Milk Customer Management</h1>
          </div>
          <div class="banner-stats">
            <div class="stat-card">
              <i class="fas fa-users"></i>
              <div>
                <h3>Active Customers</h3>
                <span id="activeClientsCount">48</span>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-wine-bottle"></i>
              <div>
                <h3>Today's Milk</h3>
                <span id="todaysMilk">1,240 L</span>
              </div>
            </div>
            <div class="stat-card">
              <i class="fas fa-truck"></i>
              <div>
                <h3>Pending Deliveries</h3>
                <span id="pendingDeliveries">12</span>
              </div>
            </div>
          </div>
        </section>

        <div class="crm-panel">
          <div class="crm-customers-list">
            <div class="panel-header">
              <h2><i class="fas fa-users"></i> Customers</h2>
              <button class="btn-add-client" id="addClientBtn">
                <i class="fas fa-plus"></i> Add Customer
              </button>
            </div>
            <div class="customer-search">
              <i class="fas fa-search search-icon"></i>
              <input type="text" placeholder="Filter customers..." id="clientFilter" />
            </div>
            <ul id="clientList">
              <!-- Sample clients - these would be dynamically populated -->
              <li class="customer-item active" data-client-id="1">
                <div class="customer-avatar">
                  <i class="fas fa-building"></i>
                </div>
                <div class="customer-info">
                  <h3>Supermarket Chain</h3>
                  <p><i class="fas fa-tint" style="color: #3498db;"></i> Daily: 120L <span class="separator">|</span> <span class="status-active"><i class="fas fa-circle" style="font-size: 0.6rem;"></i> Active</span></p>
                </div>
                <div class="customer-alert">
                  <i class="fas fa-check-circle check-circle"></i>
                </div>
              </li>
              <li class="customer-item" data-client-id="2">
                <div class="customer-avatar">
                  <i class="fas fa-utensils"></i>
                </div>
                <div class="customer-info">
                  <h3>Local Restaurant</h3>
                  <p><i class="fas fa-tint" style="color: #3498db;"></i> Daily: 45L <span class="separator">|</span> <span class="status-active"><i class="fas fa-circle" style="font-size: 0.6rem;"></i> Active</span></p>
                </div>
                <div class="customer-alert">
                  <i class="fas fa-check-circle check-circle"></i>
                </div>
              </li>
              <li class="customer-item" data-client-id="3">
                <div class="customer-avatar">
                  <i class="fas fa-school"></i>
                </div>
                <div class="customer-info">
                  <h3>District School</h3>
                  <p><i class="fas fa-tint" style="color: #3498db;"></i> Daily: 0L <span class="separator">|</span> <span class="status-suspended"><i class="fas fa-circle" style="font-size: 0.6rem;"></i> Suspended</span></p>
                </div>
                <div class="customer-alert">
                  <i class="fas fa-exclamation-triangle alert"></i>
                </div>
              </li>
            </ul>
          </div>

          <div class="crm-details-panel">
            <div class="panel-header">
              <h2><i class="fas fa-info-circle"></i> Customer Details</h2>
            </div>
            <div id="clientDetails">
              <div class="client-detail-header">
                <div class="detail-avatar">
                  <i class="fas fa-building"></i>
                </div>
                <div class="detail-title">
                  <h3>Supermarket Chain</h3>
                  <p>Retail Client | Since 2020</p>
                </div>
              </div>
              
              <div class="client-stats">
                <div class="stat-item">
                  <h4>Average Daily</h4>
                  <p>120 Liters</p>
                </div>
                <div class="stat-item">
                  <h4>This Month</h4>
                  <p>3,240 Liters</p>
                </div>
                <div class="stat-item">
                  <h4>Last Delivery</h4>
                  <p>Today, 08:30 AM</p>
                </div>
              </div>
              
              <div class="chart-header">
                <h4><i class="fas fa-chart-line"></i> Milk Usage Trends</h4>
              </div>
              
              <div class="milk-usage-chart">
                <canvas id="milkUsageChart"></canvas>
              </div>
              
              <div class="client-info-grid">
                <div class="info-section">
                  <h4><i class="fas fa-address-card"></i> Contact Info</h4>
                  <p><strong>Contact:</strong> Shiva </p>
                  <p><strong>Phone:</strong> (555) 123-4567</p>
                  <p><strong>Email:</strong> shiva@supermarket.com</p>
                </div>
                
                <div class="info-section">
                  <h4><i class="fas fa-map-marker-alt"></i> Delivery Info</h4>
                  <p><strong>Address:</strong> 123 Main St, City</p>
                  <p><strong>Schedule:</strong> Daily (Mon-Sun)</p>
                  <p><strong>Preferred Time:</strong> 6:00-8:00 AM</p>
                </div>
              </div>
            </div>
          </div>

          <div class="crm-activity-panel">
            <div class="panel-header">
              <h2><i class="fas fa-history"></i> Recent Activity</h2>
            </div>
            <div id="activityFeed">
              <div class="activity-item">
                <div class="activity-avatar">
                  <i class="fas fa-user"></i>
                </div>
                <div class="activity-content">
                  <h4>shiva <span class="activity-time">Today, 09:15 AM</span></h4>
                  <p>Requested 10% increase in daily delivery starting next week.</p>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-avatar">
                  <i class="fas fa-truck"></i>
                </div>
                <div class="activity-content">
                  <h4>Delivery Update <span class="activity-time">Today, 08:45 AM</span></h4>
                  <p>Delivery completed. 120L delivered. Next delivery scheduled for tomorrow.</p>
                </div>
              </div>
              <div class="activity-item">
                <div class="activity-avatar">
                  <i class="fas fa-user"></i>
                </div>
                <div class="activity-content">
                  <h4>shiva <span class="activity-time">Yesterday, 04:30 PM</span></h4>
                  <p>Complaint about milk temperature during today's delivery.</p>
                  <div class="activity-action">
                    <button class="btn-small">Resolve</button>
                    <button class="btn-small">Follow Up</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        
        <!-- Analytics Section -->
        <section class="analytics-section">
          <h2><i class="fas fa-chart-line"></i> Sales Analytics Overview</h2>
          <div class="analytics-boxes">
            <!-- Leads Generated Box -->
            <div class="analytics-box">
              <div class="analytics-box-header">
                <h3><i class="fas fa-user-plus leads-icon"></i> Leads Generated</h3>
                <div class="stats">248</div>
              </div>
              <div class="analytics-chart-container">
                <canvas id="leadsChart"></canvas>
              </div>
              <div class="chart-legend" id="leadsLegend">
                <!-- Legend will be populated by JS -->
              </div>
            </div>
            
            <!-- Deals Closed Daily Box -->
            <div class="analytics-box">
              <div class="analytics-box-header">
                <h3><i class="fas fa-handshake daily-deals-icon"></i> Deals Closed Daily</h3>
                <div class="stats">18</div>
              </div>
              <div class="analytics-chart-container">
                <canvas id="dailyDealsChart"></canvas>
              </div>
              <div class="chart-legend" id="dailyDealsLegend">
                <!-- Legend will be populated by JS -->
              </div>
            </div>
            
            <!-- Deals Per Year Box -->
            <div class="analytics-box">
              <div class="analytics-box-header">
                <h3><i class="fas fa-calendar-check yearly-deals-icon"></i> Deals Per Year</h3>
                <div class="stats">1,842</div>
              </div>
              <div class="analytics-chart-container">
                <canvas id="yearlyDealsChart"></canvas>
              </div>
              <div class="chart-legend" id="yearlyDealsLegend">
                <!-- Legend will be populated by JS -->
              </div>
            </div>
          </div>
          
          <!-- Income Box -->
          <div class="income-box">
            <div class="income-box-header">
              <h3><i class="fas fa-chart-line"></i> Generated Income</h3>
              <div class="stats">₹1,03,61,305</div>
            </div>
            <div class="income-chart-container">
              <canvas id="incomeChart"></canvas>
            </div>
            <div class="income-controls">
              <button class="income-toggle active" data-period="monthly">Monthly View</button>
              <button class="income-toggle" data-period="yearly">Yearly View</button>
            </div>
          </div>
        </section>
      </div>
      <!-- Customer Benefits Section -->
      <section class="customer-benefits-section">
        <div class="customer-benefits-container">
          <h2 class="section-title"><i class="fas fa-users"></i> How Our CRM Benefits Customers</h2>
          <p class="section-description">Our customer relationship management system is designed to enhance the customer experience at every touchpoint, ensuring personalized service and timely support.</p>
          
          <div class="customer-benefits-grid">
            <!-- Personalized Service Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-user-check"></i>
              </div>
              <h3>Personalized Service</h3>
              <p>Our CRM tracks customer preferences and purchase history to provide tailored recommendations and personalized service experiences.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Customized product suggestions</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Preference-based communications</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Personalized loyalty rewards</div>
              </div>
            </div>
            
            <!-- Faster Response Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-bolt"></i>
              </div>
              <h3>Faster Response Times</h3>
              <p>With centralized customer data and automated workflows, our team can respond to inquiries and resolve issues more quickly.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Instant access to customer history</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Automated ticket routing</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Real-time status updates</div>
              </div>
            </div>
            
            <!-- Proactive Support Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-headset"></i>
              </div>
              <h3>Proactive Support</h3>
              <p>Our CRM helps identify potential issues before they become problems, allowing us to reach out proactively with solutions.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Predictive issue detection</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Scheduled maintenance reminders</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Preventative service recommendations</div>
              </div>
            </div>
            
            <!-- Seamless Communication Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-comments"></i>
              </div>
              <h3>Seamless Communication</h3>
              <p>Customers can reach us through their preferred channels, and our CRM ensures consistent communication across all touchpoints.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Multi-channel support</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Conversation history tracking</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Consistent messaging across channels</div>
              </div>
            </div>
            
            <!-- Loyalty Rewards Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-gift"></i>
              </div>
              <h3>Enhanced Loyalty Programs</h3>
              <p>Our CRM tracks customer engagement and purchase patterns to offer relevant rewards and incentives that truly matter to each customer.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Behavior-based rewards</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Milestone celebrations</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Exclusive member benefits</div>
              </div>
            </div>
            
            <!-- Continuous Improvement Box -->
            <div class="customer-benefit-box">
              <div class="benefit-icon">
                <i class="fas fa-chart-line"></i>
              </div>
              <h3>Continuous Improvement</h3>
              <p>We analyze customer feedback and interaction data to continuously improve our products, services, and customer experience.</p>
              <div class="benefit-features">
                <div class="feature"><i class="fas fa-angle-right"></i> Feedback collection and analysis</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Service quality monitoring</div>
                <div class="feature"><i class="fas fa-angle-right"></i> Data-driven product enhancements</div>
              </div>
            </div>
          </div>
        </div>
      </section>
  
    </div>

    <!-- Add Customer Modal -->
    <div class="modal" id="addClientModal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2><i class="fas fa-user-plus"></i> Add New Customer</h2>
        <form id="addClientForm">
          <div class="form-group">
            <label for="clientName">Customer Name</label>
            <input type="text" id="clientName" required>
          </div>
          <div class="form-group">
            <label for="clientType">Customer Type</label>
            <select id="clientType" required>
              <option value="">Select type</option>
              <option value="retail">Retail Store</option>
              <option value="restaurant">Restaurant</option>
              <option value="school">School/Institution</option>
              <option value="wholesale">Wholesale</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="contactPerson">Contact Person</label>
              <input type="text" id="contactPerson" required>
            </div>
            <div class="form-group">
              <label for="contactPhone">Phone</label>
              <input type="tel" id="contactPhone" required>
            </div>
          </div>
          <div class="form-group">
            <label for="initialMilkVolume">Initial Daily Milk Volume (Liters)</label>
            <input type="number" id="initialMilkVolume" min="1" required>
          </div>
          <div class="form-group">
            <label for="deliveryAddress">Delivery Address</label>
            <textarea id="deliveryAddress" rows="3" required></textarea>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn-primary">Save Customer</button>
            <button type="button" class="btn-secondary close-modal-btn">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Customer data for different customers
        const clientsData = {
          1: {
            name: "Supermarket Chain",
            type: "Retail Customer",
            since: "2020",
            icon: "fa-building",
            stats: {
              avgDaily: "120 Liters",
              thisMonth: "3,240 Liters",
              lastDelivery: "Today, 08:30 AM"
            },
            contact: {
              name: "shiva",
              phone: "(555) 123-4567",
              email: "shiva@supermarket.com"
            },
            delivery: {
              address: "123 Main St, City",
              schedule: "Daily (Mon-Sun)",
              preferredTime: "6:00-8:00 AM"
            },
            chartData: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
              data: [3200, 3400, 3650, 3800, 4000, 4200, 4400],
              color: {
                border: 'rgba(52, 152, 219, 1)',
                background: 'rgba(52, 152, 219, 0.2)'
              }
            }
          },
          2: {
            name: "Local Restaurant",
            type: "Food Service Customer",
            since: "2021",
            icon: "fa-utensils",
            stats: {
              avgDaily: "45 Liters",
              thisMonth: "1,350 Liters",
              lastDelivery: "Today, 07:15 AM"
            },
            contact: {
              name: "Maria Garcia",
              phone: "(555) 234-5678",
              email: "maria@localrestaurant.com"
            },
            delivery: {
              address: "456 Oak St, City",
              schedule: "Daily (Tue-Sun)",
              preferredTime: "5:00-7:00 AM"
            },
            chartData: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
              data: [1200, 1350, 1450, 1500, 1550, 1600, 1650],
              color: {
                border: 'rgba(46, 204, 113, 1)',
                background: 'rgba(46, 204, 113, 0.2)'
              }
            }
          },
          3: {
            name: "District School",
            type: "Educational Customer",
            since: "2019",
            icon: "fa-school",
            stats: {
              avgDaily: "0 Liters",
              thisMonth: "0 Liters",
              lastDelivery: "Mar 31, 06:45 AM"
            },
            contact: {
              name: "Robert Johnson",
              phone: "(555) 345-6789",
              email: "robert@schooldistrict.edu"
            },
            delivery: {
              address: "789 School Ave, City",
              schedule: "Weekdays (Mon-Fri)",
              preferredTime: "5:30-6:30 AM"
            },
            chartData: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
              data: [2100, 2200, 2150, 0, 0, 0, 1850],
              color: {
                border: 'rgba(155, 89, 182, 1)',
                background: 'rgba(155, 89, 182, 0.2)'
              }
            }
          }
        };

        // Initialize milk usage chart
        const ctx = document.getElementById('milkUsageChart').getContext('2d');
        let milkUsageChart;
        
        // Function to initialize or update chart
        function updateChart(clientId) {
          const clientData = clientsData[clientId];
          
          if (!clientData) return;
          
          // Create gradient for chart background
          const gradient = ctx.createLinearGradient(0, 0, 0, 200);
          gradient.addColorStop(0, clientData.chartData.color.background);
          gradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');
          
          const chartConfig = {
            type: 'line',
            data: {
              labels: clientData.chartData.labels,
              datasets: [{
                label: 'Milk Usage (Liters)',
                data: clientData.chartData.data,
                backgroundColor: gradient,
                borderColor: clientData.chartData.color.border,
                borderWidth: 2,
                tension: 0.4,
                fill: true,
                pointBackgroundColor: clientData.chartData.color.border,
                pointBorderColor: '#fff',
                pointBorderWidth: 1,
                pointRadius: 4,
                pointHoverRadius: 6
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                tooltip: {
                  backgroundColor: 'rgba(255, 255, 255, 0.9)',
                  titleColor: '#333',
                  bodyColor: '#666',
                  borderColor: '#ddd',
                  borderWidth: 1,
                  caretSize: 8,
                  cornerRadius: 4,
                  displayColors: false,
                  callbacks: {
                    label: function(context) {
                      return `${context.parsed.y.toLocaleString()} Liters`;
                    }
                  }
                }
              },
              scales: {
                y: {
                  beginAtZero: false,
                  grid: {
                    color: 'rgba(0, 0, 0, 0.05)'
                  }
                },
                x: {
                  grid: {
                    display: false
                  }
                }
              },
              animation: {
                duration: 800,
                easing: 'easeOutQuart'
              }
            }
          };
          
          // If chart already exists, destroy it first
          if (milkUsageChart) {
            milkUsageChart.destroy();
          }
          
          // Create new chart
          milkUsageChart = new Chart(ctx, chartConfig);
          
          // Store the current client ID for later use
          milkUsageChart.clientId = clientId;
        }
        
        // Function to update customer details
        function updateClientDetails(clientId) {
          const clientData = clientsData[clientId];
          
          if (!clientData) return;
          
          // Update header
          document.querySelector('.detail-avatar i').className = `fas ${clientData.icon}`;
          document.querySelector('.detail-title h3').textContent = clientData.name;
          document.querySelector('.detail-title p').textContent = `${clientData.type} | Since ${clientData.since}`;
          
          // Update stats
          const statItems = document.querySelectorAll('.client-stats .stat-item');
          statItems[0].querySelector('p').textContent = clientData.stats.avgDaily;
          statItems[1].querySelector('p').textContent = clientData.stats.thisMonth;
          statItems[2].querySelector('p').textContent = clientData.stats.lastDelivery;
          
          // Update contact info
          const infoSections = document.querySelectorAll('.info-section');
          infoSections[0].querySelector('p:nth-child(2)').innerHTML = `<strong>Contact:</strong> ${clientData.contact.name}`;
          infoSections[0].querySelector('p:nth-child(3)').innerHTML = `<strong>Phone:</strong> ${clientData.contact.phone}`;
          infoSections[0].querySelector('p:nth-child(4)').innerHTML = `<strong>Email:</strong> ${clientData.contact.email}`;
          
          // Update delivery info
          infoSections[1].querySelector('p:nth-child(2)').innerHTML = `<strong>Address:</strong> ${clientData.delivery.address}`;
          infoSections[1].querySelector('p:nth-child(3)').innerHTML = `<strong>Schedule:</strong> ${clientData.delivery.schedule}`;
          infoSections[1].querySelector('p:nth-child(4)').innerHTML = `<strong>Preferred Time:</strong> ${clientData.delivery.preferredTime}`;
          
          // Update chart
          updateChart(clientId);
          
          // Update activity feed with customer-specific content
          updateActivityFeed(clientId);
        }
        
        // Function to update activity feed
        function updateActivityFeed(clientId) {
          const clientData = clientsData[clientId];
          
          if (!clientData) return;
          
          // Clear existing activities
          const activityFeed = document.getElementById('activityFeed');
          activityFeed.innerHTML = '';
          
          // Add customer-specific activity
          const activityItem1 = document.createElement('div');
          activityItem1.className = 'activity-item';
          activityItem1.innerHTML = `
            <div class="activity-avatar">
              <i class="fas fa-user"></i>
            </div>
            <div class="activity-content">
              <h4>${clientData.contact.name} <span class="activity-time">Today, 09:15 AM</span></h4>
              <p>Requested update on delivery schedule.</p>
            </div>
          `;
          
          const activityItem2 = document.createElement('div');
          activityItem2.className = 'activity-item';
          activityItem2.innerHTML = `
            <div class="activity-avatar">
              <i class="fas fa-truck"></i>
            </div>
            <div class="activity-content">
              <h4>Delivery Update <span class="activity-time">Today, 08:45 AM</span></h4>
              <p>Delivery completed. ${clientData.stats.avgDaily} delivered. Next delivery scheduled for tomorrow.</p>
            </div>
          `;
          
          activityFeed.appendChild(activityItem1);
          activityFeed.appendChild(activityItem2);
        }
        
        // Customer selection functionality
        function setupClientEventListeners() {
          const customerItems = document.querySelectorAll('.customer-item');
          
          customerItems.forEach(item => {
            // Remove existing event listeners (to prevent duplicates)
            const newItem = item.cloneNode(true);
            item.parentNode.replaceChild(newItem, item);
            
            // Add click event
            newItem.addEventListener('click', function() {
              // Update active state
              document.querySelectorAll('.customer-item').forEach(i => i.classList.remove('active'));
              this.classList.add('active');
              
              // Get client ID and update details
              const clientId = this.getAttribute('data-client-id');
              updateClientDetails(clientId);
            });
            
            // Add touch events for mobile
            newItem.addEventListener('touchstart', function() {
              this.classList.add('touch-active');
            }, { passive: true });
            
            newItem.addEventListener('touchend', function(e) {
              e.preventDefault();
              if (this.classList.contains('touch-active')) {
                // Update active state
                document.querySelectorAll('.customer-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // Get client ID and update details
                const clientId = this.getAttribute('data-client-id');
                updateClientDetails(clientId);
              }
              this.classList.remove('touch-active');
            });
          });
        }
        
        // Initial setup of client event listeners
        setupClientEventListeners();
        
        // Initialize with the first customer
        updateClientDetails('1');
        
        // No period tabs anymore
        
        // Add customer modal functionality
        const addClientBtn = document.getElementById('addClientBtn');
        const addClientModal = document.getElementById('addClientModal');
        const closeModalBtns = document.querySelectorAll('.close-modal, .close-modal-btn');
        
        addClientBtn.addEventListener('click', function() {
          addClientModal.style.display = 'flex';
        });
        
        closeModalBtns.forEach(btn => {
          btn.addEventListener('click', function() {
            addClientModal.style.display = 'none';
          });
        });
        
        window.addEventListener('click', function(event) {
          if (event.target === addClientModal) {
            addClientModal.style.display = 'none';
          }
        });
        
        // Form submission
        document.getElementById('addClientForm').addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Get form values
          const clientName = document.getElementById('clientName').value;
          const clientType = document.getElementById('clientType');
          const clientTypeText = clientType.options[clientType.selectedIndex].text;
          const contactPerson = document.getElementById('contactPerson').value;
          const contactPhone = document.getElementById('contactPhone').value;
          const initialMilkVolume = document.getElementById('initialMilkVolume').value;
          const deliveryAddress = document.getElementById('deliveryAddress').value;
          
          // Generate a new client ID (in a real app, this would come from the server)
          const newClientId = Object.keys(clientsData).length + 1;
          
          // Add to clientsData object
          clientsData[newClientId] = {
            name: clientName,
            type: clientTypeText,
            since: new Date().getFullYear().toString(),
            icon: getIconForClientType(clientType.value),
            stats: {
              avgDaily: initialMilkVolume + " Liters",
              thisMonth: (initialMilkVolume * 30) + " Liters",
              lastDelivery: "Not yet delivered"
            },
            contact: {
              name: contactPerson,
              phone: contactPhone,
              email: contactPerson.toLowerCase().replace(/\s/g, '.') + "@example.com"
            },
            delivery: {
              address: deliveryAddress,
              schedule: "Daily (Mon-Fri)",
              preferredTime: "6:00-8:00 AM"
            },
            chartData: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
              data: generateRandomChartData(initialMilkVolume * 30, 7),
              color: {
                border: getRandomColor(0.8),
                background: getRandomColor(0.2)
              }
            }
          };
          
          // Create new customer element
          const newCustomer = document.createElement('li');
          newCustomer.className = 'customer-item';
          newCustomer.setAttribute('data-client-id', newClientId);
          
          newCustomer.innerHTML = `
            <div class="customer-avatar">
              <i class="fas ${getIconForClientType(clientType.value)}"></i>
            </div>
            <div class="customer-info">
              <h3>${clientName}</h3>
              <p><i class="fas fa-tint" style="color: #3498db;"></i> Daily: ${initialMilkVolume}L <span class="separator">|</span> <span class="status-active"><i class="fas fa-circle" style="font-size: 0.6rem;"></i> Active</span></p>
            </div>
            <div class="customer-alert">
              <i class="fas fa-check-circle check-circle"></i>
            </div>
          `;
          
          // Add to customer list
          document.getElementById('clientList').appendChild(newCustomer);
          
          // Setup event listeners for all customers (including the new one)
          setupClientEventListeners();
          
          // Update active customers count
          const activeClientsCount = document.getElementById('activeClientsCount');
          const currentCount = parseInt(activeClientsCount.textContent);
          activeClientsCount.textContent = currentCount + 1;
          
          // Show success message
          alert('Customer added successfully!');
          
          // Close modal
          addClientModal.style.display = 'none';
          
          // Reset form
          document.getElementById('addClientForm').reset();
          
          // Select the new customer
          newCustomer.click();
        });
        
        // Helper function to get icon based on client type
        function getIconForClientType(type) {
          switch(type) {
            case 'retail':
              return 'fa-building';
            case 'restaurant':
              return 'fa-utensils';
            case 'school':
              return 'fa-school';
            case 'wholesale':
              return 'fa-warehouse';
            case 'other':
              return 'fa-store';
            default:
              return 'fa-user';
          }
        }
        
        // Helper function to generate random chart data with trends
        function generateRandomChartData(baseValue, count = 7) {
          const baseVal = parseInt(baseValue);
          let trend = Math.random() > 0.5 ? 1 : -1; // Upward or downward trend
          let trendStrength = Math.random() * 0.05; // How strong the trend is
          
          // Generate data with a slight trend
          return Array(count).fill().map((_, index) => {
            // Add some randomness but maintain the trend
            const trendEffect = baseVal * trendStrength * index * trend;
            const randomness = Math.floor(Math.random() * baseVal * 0.15) - (baseVal * 0.075);
            const value = Math.max(0, Math.round(baseVal + trendEffect + randomness));
            
            // For weekend days in weekly view, sometimes show zero or reduced values
            if (count === 7 && (index === 5 || index === 6)) {
              // 40% chance of reduced weekend values for businesses
              if (Math.random() < 0.4) {
                return Math.round(value * (Math.random() * 0.5));
              }
            }
            
            return value;
          });
        }
        
        // Helper function to generate random colors
        function getRandomColor(alpha) {
          const colors = [
            `rgba(52, 152, 219, ${alpha})`,  // Blue
            `rgba(46, 204, 113, ${alpha})`,  // Green
            `rgba(155, 89, 182, ${alpha})`,  // Purple
            `rgba(230, 126, 34, ${alpha})`,  // Orange
            `rgba(231, 76, 60, ${alpha})`,   // Red
            `rgba(52, 73, 94, ${alpha})`     // Dark Blue
          ];
          return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // Customer filtering
        const clientFilter = document.getElementById('clientFilter');
        clientFilter.addEventListener('input', function() {
          const filter = this.value.toLowerCase();
          // Get updated list of customer items (including newly added ones)
          const currentCustomerItems = document.querySelectorAll('.customer-item');
          currentCustomerItems.forEach(item => {
            const text = item.textContent.toLowerCase();
            item.style.display = text.includes(filter) ? 'flex' : 'none';
          });
        });
        
        // Simulate real-time updates
        setInterval(() => {
          // Update today's milk stat
          const todaysMilk = document.getElementById('todaysMilk');
          const current = parseInt(todaysMilk.textContent.replace(/,/g, ''));
          const randomChange = Math.floor(Math.random() * 20) - 10;
          const newValue = Math.max(1000, current + randomChange);
          todaysMilk.textContent = newValue.toLocaleString() + ' L';
        }, 5000);
        
        // Initialize Analytics Charts
        initAnalyticsCharts();
        
        // Function to initialize all analytics charts
        function initAnalyticsCharts() {
          // Create Leads Generated Pie Chart
          createLeadsChart();
          
          // Create Deals Closed Daily Bar Chart
          createDailyDealsChart();
          
          // Create Deals Per Year Bar Chart
          createYearlyDealsChart();
          
          // Create Income Chart
          createIncomeChart();
        }
        
        // Create Leads Generated Pie Chart
        function createLeadsChart() {
          const ctx = document.getElementById('leadsChart').getContext('2d');
          
          // Data for leads by source
          const data = {
            labels: ['Referrals', 'Website', 'Social Media', 'Cold Calls', 'Events'],
            datasets: [{
              data: [85, 65, 45, 30, 23],
              backgroundColor: [
                '#3498db', // Blue
                '#2ecc71', // Green
                '#9b59b6', // Purple
                '#f1c40f', // Yellow
                '#e74c3c'  // Red
              ],
              borderColor: 'white',
              borderWidth: 2
            }]
          };
          
          // Chart options
          const options = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    const label = context.label || '';
                    const value = context.raw || 0;
                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                    const percentage = Math.round((value / total) * 100);
                    return `${label}: ${value} (${percentage}%)`;
                  }
                }
              }
            }
          };
          
          // Create the chart
          const leadsChart = new Chart(ctx, {
            type: 'pie',
            data: data,
            options: options
          });
          
          // Create custom legend
          const legendContainer = document.getElementById('leadsLegend');
          legendContainer.innerHTML = '';
          
          data.labels.forEach((label, index) => {
            const legendItem = document.createElement('div');
            legendItem.className = 'legend-item';
            
            const colorBox = document.createElement('span');
            colorBox.className = 'legend-color';
            colorBox.style.backgroundColor = data.datasets[0].backgroundColor[index];
            
            const labelText = document.createElement('span');
            labelText.textContent = `${label}: ${data.datasets[0].data[index]}`;
            
            legendItem.appendChild(colorBox);
            legendItem.appendChild(labelText);
            legendContainer.appendChild(legendItem);
          });
        }
        
        // Create Deals Closed Daily Bar Chart
        function createDailyDealsChart() {
          const ctx = document.getElementById('dailyDealsChart').getContext('2d');
          
          // Data for deals closed by day of week
          const data = {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
              label: 'Deals Closed',
              data: [4, 5, 7, 3, 6, 2, 1],
              backgroundColor: '#2ecc71',
              borderColor: '#27ae60',
              borderWidth: 1,
              borderRadius: 5,
              barPercentage: 0.6
            }]
          };
          
          // Chart options
          const options = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  color: 'rgba(0, 0, 0, 0.05)'
                },
                ticks: {
                  precision: 0
                }
              },
              x: {
                grid: {
                  display: false
                }
              }
            }
          };
          
          // Create the chart
          const dailyDealsChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
          });
          
          // Create custom legend
          const legendContainer = document.getElementById('dailyDealsLegend');
          legendContainer.innerHTML = '';
          
          const legendItem = document.createElement('div');
          legendItem.className = 'legend-item';
          
          const colorBox = document.createElement('span');
          colorBox.className = 'legend-color';
          colorBox.style.backgroundColor = '#2ecc71';
          
          const labelText = document.createElement('span');
          labelText.textContent = 'Average: 4 deals per day';
          
          legendItem.appendChild(colorBox);
          legendItem.appendChild(labelText);
          legendContainer.appendChild(legendItem);
        }
        
        // Create Deals Per Year Bar Chart
        function createYearlyDealsChart() {
          const ctx = document.getElementById('yearlyDealsChart').getContext('2d');
          
          // Current year
          const currentYear = new Date().getFullYear();
          
          // Data for deals per year
          const data = {
            labels: [currentYear-4, currentYear-3, currentYear-2, currentYear-1, currentYear],
            datasets: [{
              label: 'Deals Closed',
              data: [1240, 1380, 1520, 1680, 1842],
              backgroundColor: '#f39c12',
              borderColor: '#e67e22',
              borderWidth: 1,
              borderRadius: 5,
              barPercentage: 0.6
            }]
          };
          
          // Chart options
          const options = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  color: 'rgba(0, 0, 0, 0.05)'
                }
              },
              x: {
                grid: {
                  display: false
                }
              }
            }
          };
          
          // Create the chart
          const yearlyDealsChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
          });
          
          // Create custom legend
          const legendContainer = document.getElementById('yearlyDealsLegend');
          legendContainer.innerHTML = '';
          
          const legendItem = document.createElement('div');
          legendItem.className = 'legend-item';
          
          const colorBox = document.createElement('span');
          colorBox.className = 'legend-color';
          colorBox.style.backgroundColor = '#f39c12';
          
          const labelText = document.createElement('span');
          labelText.textContent = 'Growth: +9.6% per year';
          
          legendItem.appendChild(colorBox);
          legendItem.appendChild(labelText);
          legendContainer.appendChild(legendItem);
        }
        
        // Create Income Chart
        function createIncomeChart() {
          const ctx = document.getElementById('incomeChart').getContext('2d');
          let incomeChart;
          
          // Exchange rate: 1 USD = 83 INR (approximate)
          const exchangeRate = 83;
          
          // Convert USD to INR
          function toRupees(usdAmount) {
            return Math.round(usdAmount * exchangeRate);
          }
          
          // Monthly data (in Rupees)
          const monthlyData = {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [
              {
                label: 'Revenue',
                data: [7055000, 7636000, 8549000, 8134000, 8881000, 9296000, 9794000, 9545000, 10375000, 10873000, 10624000, 11288000],
                backgroundColor: 'rgba(25, 118, 210, 0.2)',
                borderColor: 'rgba(25, 118, 210, 1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: 'Expenses',
                data: [5395000, 5644000, 6225000, 5976000, 6474000, 6806000, 7055000, 6889000, 7304000, 7636000, 7470000, 7885000],
                backgroundColor: 'rgba(244, 67, 54, 0.1)',
                borderColor: 'rgba(244, 67, 54, 0.8)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: 'Profit',
                data: [1660000, 1992000, 2324000, 2158000, 2407000, 2490000, 2739000, 2656000, 3071000, 3237000, 3154000, 3403000],
                backgroundColor: 'rgba(76, 175, 80, 0.2)',
                borderColor: 'rgba(76, 175, 80, 1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              }
            ]
          };
          
          // Yearly data (in Rupees)
          const yearlyData = {
            labels: ['2019', '2020', '2021', '2022', '2023'],
            datasets: [
              {
                label: 'Revenue',
                data: [70550000, 78850000, 87150000, 95450000, 103750000],
                backgroundColor: 'rgba(25, 118, 210, 0.2)',
                borderColor: 'rgba(25, 118, 210, 1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: 'Expenses',
                data: [53950000, 58100000, 64740000, 68890000, 74700000],
                backgroundColor: 'rgba(244, 67, 54, 0.1)',
                borderColor: 'rgba(244, 67, 54, 0.8)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              },
              {
                label: 'Profit',
                data: [16600000, 20750000, 22410000, 26560000, 29050000],
                backgroundColor: 'rgba(76, 175, 80, 0.2)',
                borderColor: 'rgba(76, 175, 80, 1)',
                borderWidth: 2,
                fill: true,
                tension: 0.4
              }
            ]
          };
          
          // Chart options
          const options = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: 'top',
                labels: {
                  usePointStyle: true,
                  padding: 20
                }
              },
              tooltip: {
                mode: 'index',
                intersect: false,
                callbacks: {
                  label: function(context) {
                    let label = context.dataset.label || '';
                    if (label) {
                      label += ': ';
                    }
                    if (context.parsed.y !== null) {
                      // Format as Indian Rupees with lakhs and crores
                      const value = context.parsed.y;
                      if (value >= 10000000) { // 1 crore = 10,000,000
                        const crores = (value / 10000000).toFixed(2);
                        label += '₹' + crores + ' Cr';
                      } else if (value >= 100000) { // 1 lakh = 100,000
                        const lakhs = (value / 100000).toFixed(2);
                        label += '₹' + lakhs + ' L';
                      } else {
                        label += '₹' + value.toLocaleString('en-IN');
                      }
                    }
                    return label;
                  }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  callback: function(value) {
                    // Format as Indian Rupees with lakhs and crores
                    if (value >= 10000000) { // 1 crore = 10,000,000
                      const crores = (value / 10000000).toFixed(1);
                      return '₹' + crores + ' Cr';
                    } else if (value >= 100000) { // 1 lakh = 100,000
                      const lakhs = (value / 100000).toFixed(1);
                      return '₹' + lakhs + ' L';
                    } else {
                      return '₹' + value.toLocaleString('en-IN');
                    }
                  }
                }
              }
            },
            interaction: {
              mode: 'nearest',
              axis: 'x',
              intersect: false
            }
          };
          
          // Create the chart with monthly data initially
          incomeChart = new Chart(ctx, {
            type: 'line',
            data: monthlyData,
            options: options
          });
          
          // Add toggle functionality
          const toggleButtons = document.querySelectorAll('.income-toggle');
          toggleButtons.forEach(button => {
            button.addEventListener('click', function() {
              // Update active state
              toggleButtons.forEach(btn => btn.classList.remove('active'));
              this.classList.add('active');
              
              // Update chart data
              const period = this.getAttribute('data-period');
              if (period === 'monthly') {
                incomeChart.data = monthlyData;
                document.querySelector('.income-box-header .stats').textContent = '₹1,03,61,305';
              } else {
                incomeChart.data = yearlyData;
                document.querySelector('.income-box-header .stats').textContent = '₹3,52,75,00,000';
              }
              
              incomeChart.update();
            });
          });
          
          // Stars in graph removed as requested
        }
      });
    </script>
  </main>
  <script src="js/farm.js"></script>
  
  
  <style>
    /* Customer Benefits Section Styling */
    .customer-benefits-section {
      padding: 60px 0;
      background-color: #f8f9fa;
      border-top: 1px solid #e0e0e0;
    }
    
    .customer-benefits-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .section-title {
      font-size: 2rem;
      color: #333;
      text-align: center;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    
    .section-title i {
      color: #3498db;
    }
    
    .section-description {
      text-align: center;
      max-width: 800px;
      margin: 0 auto 40px;
      color: #666;
      font-size: 1.1rem;
      line-height: 1.6;
    }
    
    .customer-benefits-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
    }
    
    .customer-benefit-box {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    .customer-benefit-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .benefit-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, #3498db, #2980b9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }
    
    .benefit-icon i {
      font-size: 28px;
      color: white;
    }
    
    .customer-benefit-box h3 {
      font-size: 1.3rem;
      color: #333;
      margin: 0 0 15px 0;
    }
    
    .customer-benefit-box p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 20px;
      flex-grow: 1;
    }
    
    .benefit-features {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .feature {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      color: #555;
    }
    
    .feature i {
      color: #3498db;
      font-size: 0.8rem;
    }
    
    /* Responsive adjustments */
    @media (max-width: 1100px) {
      .customer-benefits-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 768px) {
      .customer-benefits-grid {
        grid-template-columns: 1fr;
      }
      
      .section-title {
        font-size: 1.7rem;
      }
      
      .section-description {
        font-size: 1rem;
      }
      
      .customer-benefit-box {
        padding: 25px;
      }
    }
  </style>
</body>
</html>